{% extends "learn/layout.html" %}
{% load static %}
<script type="text/javascript" src="{% static "ckeditor/ckeditor-init.js" %}"></script>
<script type="text/javascript" src="{% static "ckeditor/ckeditor/ckeditor.js" %}"></script>
<!-- Main Section -->
{% block content %}
<div class="container-fluid text-center mb-3 ">
  <div class="accordion" id="accordionPanelsStayOpenExample">
    {% if questions %}
      {% if activity.is_multiple_choice %}
        {% include "learn/teacher/components/multiple-question.html" %}
      {% else %}
        {% include "learn/teacher/components/question.html" %}
      {% endif %}
    {% else %}
      <p class="text-muted">No questions yet</p>
    {% endif %}
  </div>
</div>
{% endblock content %}

<!-- ACtive Info Section -->
{% block sidecontent %}

<div class="container-fluid text-center mb-3">
  <div class="card shadow p-0"">
    <div class="card-body">
      <h5 class="card-title">Activity No. {{activity.id}}</h5>
      <p class="card-text">
        {{activity.title}}
      </p>      
      <div class="d-grid gap-2 btn-group">
        {% if activity.is_deployed %}
          <button
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#modal-add-question"
            type="button"
            disabled
          >
            Add new question
          </button>          
          <button
            class="btn btn-success"
            type="button"
            onclick="location.href='{% url 'deploy-activity' activity.id %}'"

          >
            Undeploy
          </button>
        {% else %}
          <button
            class="btn btn-primary"
            data-bs-toggle="modal"
            data-bs-target="#modal-add-question"
            type="button"
          >
            Add new question
          </button>          
          <button
            class="btn btn-primary"
            type="button"
            onclick="location.href='{% url 'deploy-activity' activity.id %}'"

          >
            Deploy
          </button>
        {% endif %}
        <button
          class="btn btn-primary"
          type="button"
          onclick="location.href='{% url 'remove-activity' activity.id %}'"
        >
          Delete this activity
        </button>
      </div>
    </div>
  </div>
</div>
<!-- The Modal Create New Question -->
{% if activity.is_multiple_choice %}
  {% include "learn/teacher/components/modal-new-multiplequestion.html" %}
{% else %}
  {% include "learn/teacher/components/modal-new-question.html" %}
{% endif %}
{% endblock sidecontent %}
